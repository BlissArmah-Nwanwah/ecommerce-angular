@if(toggleModal){
<app-createproductmodal
  (closeModal)="onToggleCreatProductModal()"
></app-createproductmodal>
}
<app-navbar></app-navbar>
<section class="main-section">
  <section class="image-section mb-5">
    <img
      class="full-width"
      ngSrc="../../../../assets/images/shop-hero-1-product-slide-1.png"
      alt="hero_pic"
      width="100" height="900"
      priority
    />
    <div class="text-overlay">
      <div class="text-content white-color">
        <p class="category">T-Shirt / Tops</p>
        <h1 class="title">Summer Value Pack</h1>
        <p class="description">cool / colorful /comfy</p>
        <button mat-raised-button color="accent">Shop Now</button>
      </div>
    </div>
  </section>

  <!-- Products section -->
  <section class="products-section">
    <div class="title-all-container flex-between">
      <div class="title-container">Products</div>
      <div class="title-button-search">
        <button
          mat-raised-button
          color="accent"
          (click)="onToggleCreatProductModal()"
        >
          Create Product
        </button>
        @if (!loading()) {
        <div id="searchBar">
          <form [formGroup]="searchForm" class="search-bar">
            <i class="fas fa-search icon-search"></i>
            <input
              type="text"
              placeholder="Search"
              class="search-input"
              formControlName="searchTerm"
            />
          </form>
        </div>

        }
      </div>
    </div>
    <div class="content">
      @if (loading()) {
      <div class="loading-message">Loading...ðŸ˜Ž</div>
      }

      <div class="product-grid" #container>
        @for(product of products();track product.id){
        <app-item-card
          #cardRef
          [product]="product"
          (productSelectDetail)="onProductSelectDetail($event)"
          (productAddToCart)="onProductSelectedToCart($event)"
        ></app-item-card>
        }
      </div>
    </div>
  </section>
</section>
